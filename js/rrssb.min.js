+function(t,i,e){"use strict";var n={shrink:.8,regrow:.8,minRows:1,maxRows:2,maxPrefix:.3};t.rrssbConfig=function(t){i(".rrssb").rrssbConfig(t)},i.fn.rrssbConfig=function(t){i(this).data("settings",i.extend(n,t)),r.call(this)};var s=function(){i(this).data("settings")||i(this).data("settings",n);var t={width:0,buttons:0,height:i("li",this).innerHeight(),fontSize:parseFloat(i(this).css("font-size")),prefixWidth:i(".rrssb-prefix",this).innerWidth()};return i("li",this).each(function(){t.width=Math.max(t.width,i(this).innerWidth()),t.buttons++}),i("li",this).width(t.width),i(this).data("orig",t),t},r=function(t){var e=i(this).data("orig");if(e){if(!t)return}else e=s.call(this);var n=i(this).data("settings"),r=e.width,h=e.buttons,o=i(this).innerWidth()-1,a=e.prefixWidth;a>o*n.maxPrefix&&(a=0);var c=o/n.shrink-a,f=Math.floor(c/r),d=Math.max(n.minRows,Math.ceil(h/f));d>n.maxRows?(i(this).addClass("no-label"),r=e.height,f=Math.floor(c/r),d=Math.max(n.minRows,Math.ceil(h/f))):i(this).removeClass("no-label"),f=Math.ceil(h/d);var l=Math.floor(1e4/f)/100;i("li",this).css("max-width",l+"%");var u=r*f+a,m=Math.min(1,o/u);if(d>n.minRows&&(m=Math.min(m,n.regrow)),1>m){var w=e.fontSize*m*.95;i(this).css("font-size",w+"px")}else i(this).css("font-size","");var g=r*f*m;i("ul",this).css("max-width",g+"px")},h=function(i,n,s,r){var h=t.screenLeft!==e?t.screenLeft:screen.left,o=t.screenTop!==e?t.screenTop:screen.top,a=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,f=a/2-s/2+h,d=c/3-r/3+o,l=t.open(i,n,"scrollbars=yes, width="+s+", height="+r+", top="+d+", left="+f);l&&l.focus&&l.focus()},o=function(){var t={};return function(i,e,n){n||(n="Don't call this twice without a uniqueId"),t[n]&&clearTimeout(t[n]),t[n]=setTimeout(i,e)}}();i(document).ready(function(){i(".rrssb-buttons a.popup").click(function(t){var e=i(this);h(e.attr("href"),e.find(".rrssb-text").html(),580,470),t.preventDefault()}),i(t).resize(function(){o(function(){i(".rrssb").each(r)},200,"finished resizing")})})}(window,jQuery);