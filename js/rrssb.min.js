+function(t,i,e){"use strict";var n={size:{min:.1,max:10,"default":1},shrink:{min:.2,max:1,"default":.8},regrow:{min:.2,max:1,"default":.8},minRows:{min:1,max:99,"default":1},maxRows:{min:1,max:99,"default":2},maxPrefix:{min:0,max:.8,"default":.3}};t.rrssbConfigAll=function(t){i(".rrssb").each(function(){i(this).rrssbConfig(t)})},i.fn.rrssbConfig=function(t){if(!i(this).data("settings")||t){var e={};for(var s in n)e[s]=t&&""!==t[s]?Math.min(n[s].max,Math.max(n[s].min,t[s])):n[s].default;i(this).data("settings",e),h.call(this)}};var s,a=function(){var t={width:0,buttons:0,height:i("li",this).innerHeight(),fontSize:parseFloat(i(this).css("font-size")),prefixWidth:i(".rrssb-prefix",this).innerWidth()};return i("li",this).each(function(){t.width=Math.max(t.width,i(this).innerWidth()),t.buttons++}),i(this).data("orig",t),t},r=function(){i(".rrssb").each(h)},h=function(){var t=i(this).data("orig");t||(t=a.call(this));var e=i(this).data("settings"),n=t.width*e.size,s=t.buttons,r=i(this).innerWidth()-1,h=n>=r,o=i(this).data("mini");if(h!=o)return i(this).data("mini",h),h?(i("li",this).width(""),i(this).addClass("no-label")):i("li",this).width(n),void c(1);var d=t.prefixWidth*e.size;d>r*e.maxPrefix&&(d=0);var l=r/e.shrink-d,m=Math.floor(l/n),f=Math.max(e.minRows,Math.ceil(s/m));f>e.maxRows?(i(this).addClass("no-label"),n=t.height*e.size,m=Math.max(1,Math.floor(l/n)),f=Math.max(e.minRows,Math.ceil(s/m))):i(this).removeClass("no-label"),m=Math.ceil(s/f);var u=Math.floor(1e4/m)/100;i("li",this).css("max-width",u+"%");var g=n*m+d,x=Math.min(1,r/g);f>e.minRows&&(x=Math.min(x,e.regrow));var w=t.fontSize*e.size;if(1>x&&(w*=.95*x),i(this).css("font-size",w+"px"),g*=x,r>g){var v=Math.floor(1e4*(r-g)/r)/100;i(this).css("padding-right",v+"%")}else i(this).css("padding-right","")},o=function(i,n,s,a){var r=t.screenLeft!==e?t.screenLeft:screen.left,h=t.screenTop!==e?t.screenTop:screen.top,o=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,d=o/2-s/2+r,l=c/3-a/3+h,m=t.open(i,n,"scrollbars=yes, width="+s+", height="+a+", top="+l+", left="+d);m&&m.focus&&m.focus()},c=function(t){s&&clearTimeout(s),s=setTimeout(r,t?t:200)};i(document).ready(function(){i(".rrssb-buttons a.popup").click(function(t){o(i(this).attr("href"),i(this).find(".rrssb-text").html(),580,470),t.preventDefault()}),i(t).resize(c),i(document).ready(configAll)})}(window,jQuery);