+function(t,i,e){"use strict";var s={size:{min:.1,max:10,"default":1},shrink:{min:.2,max:1,"default":.8},regrow:{min:.2,max:1,"default":.8},minRows:{min:1,max:99,"default":1},maxRows:{min:1,max:99,"default":2},prefixReserve:{min:0,max:.8,"default":.3}};t.rrssbConfigAll=function(t){i(".rrssb").each(function(){i(this).rrssbConfig(t)})},i.fn.rrssbConfig=function(t){if(!i(this).data("settings")||t){var e={};for(var n in s)e[n]=t&&!isNaN(parseFloat(t[n]))?Math.min(s[n].max,Math.max(s[n].min,t[n])):s[n].default;i(this).data("settings",e),h.call(this)}};var n,r=function(){var t={width:0,buttons:0,height:i("li",this).innerHeight(),fontSize:parseFloat(i(this).css("font-size")),prefixWidth:i(".rrssb-prefix",this).innerWidth()};return i("li",this).each(function(){t.width=Math.max(t.width,i(this).innerWidth()),t.buttons++}),i(this).data("orig",t),t},a=function(){i(".rrssb").each(h)},h=function(){var t=i(this).data("orig");t||(t=r.call(this));var e=i(this).data("settings"),s=t.width*e.size,n=t.buttons,a=i(this).innerWidth()-1,h=s>a?"":s;i("li",this).width(h);var o=a/e.shrink,c=t.prefixWidth*e.size,l=c<=a*e.prefixReserve?o-c:o,f=Math.floor(l/s);f*e.maxRows<n?(i(this).addClass("no-label"),s=t.height*e.size,f=Math.max(1,Math.floor(l/s))):i(this).removeClass("no-label");var d=e.minRows>1?Math.max(1,Math.ceil(n/(e.minRows-1))-1):n;f=Math.min(f,d),f=Math.ceil(n/Math.ceil(n/f)),d=Math.ceil(n/Math.ceil(n/d));var m=Math.floor(1e4/f)/100;i("li",this).css("max-width",m+"%");var u=s*f+c;u>o&&(u-=c,c=0);var g=Math.min(1,a/u);d>f&&(g=Math.min(g,e.regrow));var p=t.fontSize*e.size;if(1>g&&(p*=.95*g),i(this).css("font-size",p+"px"),c){var b=Math.floor(1e4*c/u)/100;i(".rrssb-buttons",this).css("padding-left",b+"%"),i(".rrssb-prefix",this).css("position","absolute");var x=Math.ceil(n/f),v=x*t.height/t.fontSize;i(".rrssb-prefix",this).css("line-height",v+"em")}else i(".rrssb-buttons",this).css("padding-left",""),i(".rrssb-prefix",this).css("position",""),i(".rrssb-prefix",this).css("line-height","");if(u*=1.02*g,a>u){var M=Math.floor(1e4*(a-u)/a)/100;i(this).css("padding-right",M+"%")}else i(this).css("padding-right","")},o=function(i,s,n,r){var a=t.screenLeft!==e?t.screenLeft:screen.left,h=t.screenTop!==e?t.screenTop:screen.top,o=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,l=o/2-n/2+a,f=c/3-r/3+h,d=t.open(i,s,"scrollbars=yes, width="+n+", height="+r+", top="+f+", left="+l);d&&d.focus&&d.focus()},c=function(t){n&&clearTimeout(n),n=setTimeout(a,t?t:200)};i(document).ready(function(){i(".rrssb-buttons a.popup").click(function(t){o(i(this).attr("href"),i(this).find(".rrssb-text").html(),580,470),t.preventDefault()}),i(t).resize(c),i(document).ready(function(){rrssbConfigAll()})})}(window,jQuery);