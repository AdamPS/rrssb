+function(t,i,e){"use strict";var n={shrink:.8,regrow:.8,minRows:1,maxRows:2,maxPrefix:.3};i.fn.rrssbInit=function(t){var e=0;i("li",this).each(function(){e=Math.max(e,i(this).innerWidth())}),i("li",this).width(e),i(this).data("settings",i.extend(n,t)),i(this).data("orig-width",e),i(this).data("orig-height",i("li",this).innerHeight()),i(this).data("orig-font-size",parseFloat(i(this).css("font-size"))),i(this).data("prefix-width",i(".rrssb-prefix",this).innerWidth()),s.call(this)};var s=function(){var t=i(this).data("settings"),e=i(this).data("orig-width"),n=i("li",this).length,s=i(this).innerWidth()-1,r=i(this).data("prefix-width");r>s*t.maxPrefix&&(r=0);var h=s/t.shrink-r,a=Math.floor(h/e),o=Math.max(t.minRows,Math.ceil(n/a));o>t.maxRows?(i(this).addClass("no-label"),e=i(this).data("orig-height"),a=Math.floor(h/e),o=Math.max(t.minRows,Math.ceil(n/a))):i(this).removeClass("no-label"),a=Math.ceil(n/o);var c=Math.floor(1e4/a)/100;i("li",this).css("max-width",c+"%");var d=e*a+r,l=Math.min(1,s/d);if(o>t.minRows&&(l=Math.min(l,t.regrow)),1>l){var f=i(this).data("orig-font-size")*l*.95;i(this).css("font-size",f+"px")}else i(this).css("font-size","");var u=e*a*l;i("ul",this).css("max-width",u+"px")},r=function(i,n,s,r){var h=t.screenLeft!==e?t.screenLeft:screen.left,a=t.screenTop!==e?t.screenTop:screen.top,o=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,c=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,d=o/2-s/2+h,l=c/3-r/3+a,f=t.open(i,n,"scrollbars=yes, width="+s+", height="+r+", top="+l+", left="+d);f&&f.focus&&f.focus()},h=function(){var t={};return function(i,e,n){n||(n="Don't call this twice without a uniqueId"),t[n]&&clearTimeout(t[n]),t[n]=setTimeout(i,e)}}();i(document).ready(function(){i(".rrssb-buttons a.popup").click(function(t){var e=i(this);r(e.attr("href"),e.find(".rrssb-text").html(),580,470),t.preventDefault()}),i(t).resize(function(){h(function(){i(".rrssb").each(s)},200,"finished resizing")}),i(".rrssb").rrssbInit()})}(window,jQuery);