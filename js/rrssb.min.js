+function(t,i,e){"use strict";var s={size:{min:.1,max:10,"default":1},shrink:{min:.2,max:1,"default":.8},regrow:{min:.2,max:1,"default":.8},minRows:{min:1,max:99,"default":1},maxRows:{min:1,max:99,"default":2},prefixReserve:{min:0,max:.8,"default":.3},prefixHide:{min:.1,max:10,"default":2},alignRight:{type:"boolean","default":!1}},n=function(){var t=i.fn.jquery.split(".");return 1==t[0]&&t[1]<8}();t.rrssbConfigAll=function(t){i(".rrssb").each(function(){i(this).rrssbConfig(t)})},i.fn.rrssbConfig=function(t){if(!i(this).data("settings")||t){var e={};for(var n in s)e[n]=s[n].default,t&&("boolean"==s[n].type?e[n]=Boolean(t[n]):isNaN(parseFloat(t[n]))||(e[n]=Math.min(s[n].max,Math.max(s[n].min,t[n]))));i(this).data("settings",e),o.call(this)}};var r,a=function(){var t=i(".rrssb-prefix",this).clone().css({visibility:"hidden","white-space":"nowrap",display:"inline"}).appendTo(this);i("ul").contents().filter(function(){return this.nodeType===Node.TEXT_NODE}).remove();var e={width:0,buttons:0,height:i("li",this).innerHeight(),fontSize:parseFloat(i(this).css("font-size")),prefixWidth:t.innerWidth()};return i("li",this).each(function(){e.width=Math.max(e.width,i(this).innerWidth()),e.buttons++}),i(this).data("orig",e),t.remove(),e},h=function(){i(".rrssb").each(o)},o=function(){var t=i(this).data("orig");t||(t=a.call(this));var e=i(this).data("settings"),s=t.width*e.size,r=t.buttons,h=i(this).innerWidth()-1,o=s>h?"":s;n?i("li",this).width(o):i("li",this).innerWidth(o);var l=h/e.shrink,c=t.prefixWidth*e.size,f=c<=h*e.prefixReserve?l-c:l,d=Math.floor(f/s);d*e.maxRows<r?(i(this).addClass("no-label"),s=t.height*e.size,d=Math.max(1,Math.floor(f/s))):i(this).removeClass("no-label");var u=e.minRows>1?Math.max(1,Math.ceil(r/(e.minRows-1))-1):r;d=Math.min(d,u),d=Math.ceil(r/Math.ceil(r/d)),u=Math.ceil(r/Math.ceil(r/u));var m=Math.floor(1e4/d)/100;i("li",this).css("max-width",m+"%");var p=c>l*e.prefixHide?"none":"";i(".rrssb-prefix",this).css("display",p);var g=s*d+c;g>l&&(g-=c,c=0);var b=Math.min(1,h/g);u>d&&(b=Math.min(b,e.regrow));var x=t.fontSize*e.size*b*.95;if(i(this).css("font-size",x+"px"),c){var v=Math.floor(1e4*c/g)/100;i(".rrssb-buttons",this).css("padding-left",v+"%"),i(".rrssb-prefix",this).css("position","absolute");var w=Math.ceil(r/d),M=w*t.height/t.fontSize;i(".rrssb-prefix",this).css("line-height",M+"em")}else i(".rrssb-buttons",this).css("padding-left",""),i(".rrssb-prefix",this).css("position",""),i(".rrssb-prefix",this).css("line-height","");g*=1.02*b;var y=e.alignRight?"padding-left":"padding-right";if(h>g){var z=Math.floor(1e4*(h-g)/h)/100;i(this).css(y,z+"%")}else i(this).css(y,"")},l=function(i,s,n,r){var a=t.screenLeft!==e?t.screenLeft:screen.left,h=t.screenTop!==e?t.screenTop:screen.top,o=t.innerWidth?t.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,l=t.innerHeight?t.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,c=o/2-n/2+a,f=l/3-r/3+h,d=t.open(i,s,"scrollbars=yes, width="+n+", height="+r+", top="+f+", left="+c);d&&d.focus&&d.focus()},c=function(t){r&&clearTimeout(r),r=setTimeout(h,t?t:200)};i(document).ready(function(){i(".rrssb-buttons a.popup").click(function(t){l(i(this).attr("href"),i(this).find(".rrssb-text").html(),580,470),t.preventDefault()}),i(t).resize(c),i(document).ready(function(){rrssbConfigAll()})})}(window,jQuery);